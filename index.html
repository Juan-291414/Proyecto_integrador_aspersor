<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión de Terrenos Agrícolas</title>
    <link rel="stylesheet" href=" estilo.css "> 
</head>
<body>
    <div class="container">
        <header>
            <h1> DISEÑO DE UN SISTEMA DE MICROASPERSIÓN AUTOMÁTICO INSPIRADO EN EL TORNILLO AÉREO DE LEONARDO DA VINCI </h1>
            <p>Control de terrenos, riego y usuarios</p>
        </header>
        
        <!-- Sección de Bienvenida -->
        <section id="welcomeSection" class="main-container visible">
            <h2 class="section-title">Bienvenido al Sistema</h2>
            <div class="form-container">
                <p style="text-align: center; margin-bottom: 20px; font-size: 1.1rem;">
                    Gestione sus terrenos agrícolas, usuarios y sistemas de riego de manera eficiente
                </p>
                <div class="action-buttons">
                    <button id="showLoginBtn" class="btn">Iniciar Sesión</button>
                    <button id="showRegisterBtn" class="btn btn-secondary">Registrar Campesino</button>
                </div>
            </div>
        </section>
        
        <!-- Sección de Login -->
        <section id="loginSection" class="main-container hidden">
            <h2 class="section-title">Iniciar Sesión</h2>
            <div class="form-container">
                <form id="formLogin">
                    <div class="form-group">
                        <label for="loginNombre">Nombre de usuario:</label>
                        <input type="text" id="loginNombre" required>
                    </div>
                    <div class="form-group">
                        <label for="loginContrasena">Contraseña:</label>
                        <input type="password" id="loginContrasena" required>
                    </div>
                    <button type="submit" class="btn">Acceder</button>
                    <div id="mensajeLogin" class="alert" style="margin-top: 15px;"></div>
                </form>
                <div class="nav-buttons">
                    <button id="backToWelcomeFromLogin" class="btn btn-secondary">Volver</button>
                </div>
            </div>
        </section>
        
        <!-- Sección de Registro -->
        <section id="registerSection" class="main-container hidden">
            <h2 class="section-title">Registrar Nuevo Campesino</h2>
            <div class="form-container">
                <form id="formCrearUsuario">
                    <div class="form-group">
                        <label for="nombreUsuario">Nombre de usuario:</label>
                        <input type="text" id="nombreUsuario" required>
                    </div>
                    <div class="form-group">
                        <label for="contrasenaUsuario">Contraseña:</label>
                        <input type="password" id="contrasenaUsuario" required>
                    </div>
                    <button type="submit" class="btn btn-success">Registrar Campesino</button>
                    <div id="mensajeRegistro" class="alert" style="margin-top: 15px;"></div>
                </form>
                <div class="nav-buttons">
                    <button id="backToWelcomeFromRegister" class="btn btn-secondary">Volver</button>
                </div>
            </div>
        </section>
        
        <!-- Sección de Administrador -->
        <section id="adminSection" class="main-container hidden">
            <div class="user-info">
                <h2>Panel de Administrador</h2>
                <p>Usuario: <span id="adminUsername"></span> | Rol: <span id="adminUserRole"></span></p>
            </div>
            
            <div class="grid-container">
                <div class="card">
                    <h3>Crear Nuevo Usuario</h3>
                    <form id="formAdminCrearUsuario">
                        <div class="form-group">
                            <label for="adminNombreUsuario">Nombre de usuario:</label>
                            <input type="text" id="adminNombreUsuario" required>
                        </div>
                        <div class="form-group">
                            <label for="adminContrasenaUsuario">Contraseña:</label>
                            <input type="password" id="adminContrasenaUsuario" required>
                        </div>
                        <div class="form-group">
                            <label for="adminRolUsuario">Rol:</label>
                            <select id="adminRolUsuario" required>
                                <option value="administrador">Administrador</option>
                                <option value="campesino">Campesino</option>
                            </select>
                        </div>
                        <button type="submit" class="btn">Crear Usuario</button>
                        <div id="mensajeAdminCrearUsuario" class="alert" style="margin-top: 15px;"></div>
                    </form>
                </div>
                
                <div class="card">
                    <h3>Crear Nuevo Terreno</h3>
                    <form id="formAdminCrearTerreno">
                        <div class="form-group">
                            <label for="adminAnchoTerreno">Ancho (m):</label>
                            <input type="number" id="adminAnchoTerreno" step="0.01" min="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="adminLargoTerreno">Largo (m):</label>
                            <input type="number" id="adminLargoTerreno" step="0.01" min="0.01" required>
                        </div>
                        <button type="submit" class="btn">Crear Terreno</button>
                        <div id="mensajeAdminCrearTerreno" class="alert" style="margin-top: 15px;"></div>
                    </form>
                </div>
                
                <div class="card">
                    <h3>Asignar Terreno</h3>
                    <form id="formAdminAsignarTerreno">
                        <div class="form-group">
                            <label for="selectCampesinoAsignar">Campesino:</label>
                            <select id="selectCampesinoAsignar" required>
                                <option value="">Seleccione Campesino</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="selectTerrenoAsignar">Terreno:</label>
                            <select id="selectTerrenoAsignar" required>
                                <option value="">Seleccione Terreno</option>
                            </select>
                        </div>
                        <button type="submit" class="btn">Asignar Terreno</button>
                        <div id="mensajeAsignarTerreno" class="alert" style="margin-top: 15px;"></div>
                    </form>
                </div>
            </div>
            
            <div class="grid-container" style="margin-top: 30px;">
                <div class="card">
                    <h3>Usuarios Registrados</h3>
                    <div id="listaUsuarios"></div>
                </div>
                
                <div class="card">
                    <h3>Terrenos Disponibles</h3>
                    <div id="listaTerrenos"></div>
                </div>
            </div>
            
            <div class="action-buttons" style="margin-top: 30px;">
                <button id="logoutAdminBtn" class="btn btn-danger">Cerrar Sesión</button>
            </div>
        </section>
        
        <!-- Sección de Campesino -->
        <section id="campesinoSection" class="main-container hidden">
            <div class="user-info">
                <h2>Panel de Campesino</h2>
                <p>Usuario: <span id="campesinoUsername"></span> | Rol: <span id="campesinoUserRole"></span></p>
            </div>
            
            <div class="grid-container">
                <div class="card">
                    <h3>Información del Terreno</h3>
                    <p><strong>ID y Área:</strong> <span id="infoTerrenoCampesino">Ninguno asignado</span></p>
                    <p><strong>Estado del Aspersor:</strong> <span id="estadoAspersorCampesino">APAGADO</span></p>
                    <p><strong>Humedad Actual:</strong> <span id="humedadCampesino">0%</span></p>
                </div>
                
                <div class="card">
                    <h3>Control de Aspersor</h3>
                    <div class="action-buttons">
                        <button id="btnEncenderAspersor" class="btn btn-success">Encender Aspersor</button>
                        <button id="btnApagarAspersor" class="btn btn-danger">Apagar Aspersor</button>
                    </div>
                    
                    <div class="form-group" style="margin-top: 20px;">
                        <label for="nuevaHumedad">Establecer Humedad (%):</label>
                        <input type="number" id="nuevaHumedad" min="0" max="100" value="0">
                        <button id="btnSetHumedad" class="btn" style="margin-top: 10px;">Actualizar Humedad</button>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons" style="margin-top: 30px;">
                <button id="logoutCampesinoBtn" class="btn btn-danger">Cerrar Sesión</button>
            </div>
        </section>
        
        <div class="footer">
            <p>Sistema de Gestión Agrícola &copy; 2023 | Todos los derechos reservados</p>
        </div>
    </div>
    
    <div id="temporaryAlert" class="temporary-alert hidden"></div>
    <script src=" kaka.js "></script>
</body>
</html>
